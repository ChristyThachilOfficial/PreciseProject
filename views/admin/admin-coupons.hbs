<section class="mt-5">
    <div class="container mt-5">
        <div class="row ">
            <div class="col-md-2">
                

            </div>
            <div class="col-md-8">
              <table class="table mt-5" id="myTable">
  <thead>
    <tr>
      <th scope="col">No.</th>
      <th scope="col">Coupon code</th>
      <th scope="col">Offer percentage</th>
      <th scope="col">Action</th>
     
    </tr>
  </thead>
  <tbody>
      {{#each coupons}}
          
      
    <tr>
      <th scope="row">{{add @index '1'}}</th>
      <td>{{this.coupon}}</td>
      <td>{{this.percentage}}</td>
      <td><button class="btn btn-danger" onclick="deleteCoupon('{{this._id}}')">Delete</button></td>

    </tr>
   {{/each}}
  </tbody>
</table>
<form action="/admin/addCoupons" method="post" id="couponForm"><br><br>
<label for="">COUPON NAME</label><br>
<input name="coupon" style="border-radius: 4px;" type="text"><br>
<label for="">OFFER PERCENTAGE</label><br>
<input name="percentage" style="border-radius: 4px;" type="number"><br>
<button type="submit" class="btn btn-success">Add Coupons</button>
</form>
            </div>
        </div>
    </div>
</section>

{{!-- data tables --}}
<link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/css/jquery.dataTables.css">
<link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/css/jquery.dataTables_themeroller.css">
<script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.1.min.js"></script>
<script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.0/jquery.dataTables.min.js" defer></script>

<script>
  $(document).ready( function () {
    $('#myTable').DataTable();
} );
</script>

<script>
    function deleteCoupon(CouponId){
        $.ajax({
            url:'/admin/deleteCoupon/'+CouponId,
            method:'get',
            success:()=>{
               
                
                location.reload();
            }
        })
    }
</script>


 {{!-- adddddddddddddddmmmmmmmmmmmminnnnnnnnnnn file validation --}}
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.js" defer></script>

  <script>
    $(document).ready(function(){
      $('#couponForm').validate({
        rules:{
          category:{
            required:true
          }
        }
      })
    })
  </script>

  <style>
    .error{
      color: red;
    }
  </style>